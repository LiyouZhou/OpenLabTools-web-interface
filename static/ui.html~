<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>OpenLabTools Web Interface</title>
    <h1>OpenLabTools Web Interface</h1>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="js/jquery-1.11.1.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    
    <button type="button" id="led-toggle" data-loading-text="Working..." class="btn btn-primary">
      LED Toggle
    </button>
    
    <p id="LED Status"></p>
    <script>
        $('#led-toggle').click
        (
            function () 
            {
                var btn = $(this)
                btn.button('loading')
                $.ajax( 
                    {
                        type: "GET",
                        url: "../toggle_led",
                        data: {status: 1}
                    }
                )
                .done(function(data) { console.log( data ); })
                .always
                    (
                        function (data, textStatus)
                        {

                          btn.button('reset');
                          console.log("data:");
                          console.log(jqXHR);
                          console.log("status:");
                          console.log(textStatus);
                          alert("The led is toggled !");
                        }
                    );
            }
        );
    </script>
  </body>
</html>
